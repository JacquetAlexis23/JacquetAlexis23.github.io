<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
    
    <!-- Meta tags para SEO -->
    <meta name="description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">
    <meta name="keywords" content="Data Science, Machine Learning, Deep Learning, IA, Python, TensorFlow, PyTorch, Alexis Jacquet">
    <meta name="author" content="{{ site.author }}">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ site.url }}{{ page.url }}">
    <meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
    <meta property="og:description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">
    <meta property="og:image" content="{{ site.url }}/assets/images/profile.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ site.url }}{{ page.url }}">
    <meta property="twitter:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
    <meta property="twitter:description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">
    <meta property="twitter:image" content="{{ site.url }}/assets/images/profile.jpg">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- CSS Principal -->
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    
    <!-- JavaScript para interactividad -->
    <script>
        // Detectar modo oscuro del sistema
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark-mode');
        }
        
        // Prevenir FOUC (Flash of Unstyled Content)
        document.documentElement.style.visibility = 'hidden';
        window.addEventListener('DOMContentLoaded', function() {
            document.documentElement.style.visibility = 'visible';
        });
    </script>
    
    <!-- Analytics (Google Analytics 4) -->
    <!-- Uncomment when ready to add analytics
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
    </script>
    -->
</head>

<body>
    <!-- Loading Spinner -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>Cargando Portfolio...</p>
        </div>
    </div>

    <!-- Main Content -->
    <div id="main-content" style="opacity: 0;">
        <!-- Header Global (opcional) -->
        <header class="site-header">
            <div class="header-content">
                <div class="logo">
                    <a href="{{ '/' | relative_url }}">
                        <span class="logo-text">AJ</span>
                        <span class="logo-full">Alexis Jacquet</span>
                    </a>
                </div>
                
                <nav class="main-nav">
                    <ul>
                        <li><a href="{{ '/' | relative_url }}" {% if page.url == '/' %}class="active"{% endif %}>Inicio</a></li>
                        <li><a href="{{ '/projects' | relative_url }}" {% if page.url contains 'projects' %}class="active"{% endif %}>Proyectos</a></li>
                        <li><a href="{{ '/about' | relative_url }}" {% if page.url contains 'about' %}class="active"{% endif %}>About</a></li>
                        <li><a href="{{ '/blog' | relative_url }}" {% if page.url contains 'blog' %}class="active"{% endif %}>Blog</a></li>
                        <li><a href="{{ '/contact' | relative_url }}" {% if page.url contains 'contact' %}class="active"{% endif %}>Contacto</a></li>
                    </ul>
                </nav>
                
                <button class="mobile-menu-toggle" aria-label="Toggle mobile menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </header>

        <!-- Page Content -->
        <main class="page-content">
            {{ content }}
        </main>

        <!-- Footer Global -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Alexis Jacquet</h3>
                    <p>Data Scientist especializado en Machine Learning y Deep Learning con enfoque en soluciones empresariales de alto impacto.</p>
                </div>
                
                <div class="footer-section">
                    <h4>Enlaces R√°pidos</h4>
                    <ul>
                        <li><a href="{{ '/' | relative_url }}">Inicio</a></li>
                        <li><a href="{{ '/projects' | relative_url }}">Proyectos</a></li>
                        <li><a href="{{ '/about' | relative_url }}">Sobre M√≠</a></li>
                        <li><a href="{{ '/contact' | relative_url }}">Contacto</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Tecnolog√≠as</h4>
                    <ul>
                        <li>Python & TensorFlow</li>
                        <li>Machine Learning</li>
                        <li>Deep Learning</li>
                        <li>Computer Vision & NLP</li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Contacto</h4>
                    <ul>
                        <li><a href="mailto:ajacquet.er@gmail.com">üìß Email</a></li>
                        <li><a href="https://linkedin.com/in/alexis-jacquet" target="_blank">üíº LinkedIn</a></li>
                        <li><a href="https://github.com/JacquetAlexis23" target="_blank">üöÄ GitHub</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; {{ 'now' | date: "%Y" }} Alexis Jacquet. Todos los derechos reservados.</p>
                <p>Desarrollado con ‚ù§Ô∏è usando Jekyll & GitHub Pages</p>
            </div>
        </footer>
    </div>

    <!-- JavaScript Global -->
    <script>
        // Loading Screen
        window.addEventListener('load', function() {
            const loadingScreen = document.getElementById('loading-screen');
            const mainContent = document.getElementById('main-content');
            
            setTimeout(() => {
                loadingScreen.style.opacity = '0';
                mainContent.style.opacity = '1';
                
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                }, 300);
            }, 800);
        });

        // Mobile Menu Toggle
        document.addEventListener('DOMContentLoaded', function() {
            const mobileToggle = document.querySelector('.mobile-menu-toggle');
            const mainNav = document.querySelector('.main-nav');
            
            if (mobileToggle && mainNav) {
                mobileToggle.addEventListener('click', function() {
                    mainNav.classList.toggle('active');
                    mobileToggle.classList.toggle('active');
                });
            }

            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Navbar scroll behavior
            let lastScrollTop = 0;
            const header = document.querySelector('.site-header');
            
            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                if (scrollTop > lastScrollTop && scrollTop > 100) {
                    // Scrolling down
                    header.style.transform = 'translateY(-100%)';
                } else {
                    // Scrolling up
                    header.style.transform = 'translateY(0)';
                }
                
                lastScrollTop = scrollTop;
            });

            // Add intersection observer for animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            // Observe all fade-in elements
            document.querySelectorAll('.fade-in-scroll').forEach(el => {
                observer.observe(el);
            });
        });

        // Performance optimization: Lazy load images
        if ('IntersectionObserver' in window) {
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src;
                        img.classList.remove('lazy');
                        imageObserver.unobserve(img);
                    }
                });
            });

            document.querySelectorAll('img[data-src]').forEach(img => {
                imageObserver.observe(img);
            });
        }
    </script>

    <!-- Additional page-specific scripts -->
    {% if page.scripts %}
        {% for script in page.scripts %}
            <script src="{{ script | relative_url }}"></script>
        {% endfor %}
    {% endif %}
</body>
</html>